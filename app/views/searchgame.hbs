<body>
    <!-- header ================================================== -->
    <header id="main-header">
        <div class="row">

            <!-- navbar ================================================== -->
            <nav id="nav-wrap">

                <a class="mobile-btn" href="#nav-wrap" title="Show navigation">
                    <span class="menu-icon">Menu</span>
                </a>
                <a class="mobile-btn" href="#" title="Hide navigation">
                    <span class="menu-icon">Menu</span>
                </a>

                <ul id="nav" class="nav">
                    <li><a class="smoothscroll" href="/signup">Signup.</a></li>
                    <li><a class="smoothscroll" href="/signin">Signin.</a></li>
                    <li><a class="smoothscroll" href="/dashboard">Dashboard.</a></li>
                    <li class="current"><a class="smoothscroll" href="/searchgame">Searchgame.</a></li>
                    <li><a class="smoothscroll" href="/postGame">Postgame.</a></li>
                    <li><a class="smoothscroll" href="/logout">Logout.</a></li>
                </ul> <!-- end #nav -->

            </nav> <!-- end #nav-wrap -->

        </div>

    </header> <!-- end header -->


    <!-- postGame Homepage hero
   ================================================== -->
    <section id="hero">

        <div class="row hero-content">

            <div class="twelve columns hero-container">

                <!-- hero-slider start-->
                <div id="hero-slider" class="flexslider">

                    <ul class="">

                        <!-- slide -->
                        <li>
                            <div class="flex-caption p-5 h-100 position-relative z-index-2 overflow-auto  py-3 animated fadeInUp">								
                                <h1 class="titleone">Hey<span class="gametitle"> {{currentUser.firstname}},</span> Search Games Here.</h1>
                            </div>
                        </li>
                    </ul>

                    <!-- postGame Picture -->
                    <aside id="fh5co-hero" class="js-fullheight video">
                        <div> <img src="https://www.callofduty.com/content/dam/atvi/callofduty/wwii/home/sh-overview.jpg"
                                style="height:100%; width:100%;" class="p-5 h-100 position-relative z-index-2 overflow-auto  py-3 animated bounceInUp"></div>
                        {{!-- End Picture --}}
                    </aside>
                </div>
            </div> <!-- end twelve columns-->
        </div> <!-- end row -->
    </section> <!-- end homepage hero -->
    

    {{!-- SEARCH THE DATABASE FOR GAMES --}}
    <div class="row items">
        {{!-- search bar--}}

        <div id="switch" class="containerr">
            <section class="flexbox">
                <div class="responsive">
                    <form id="gamedb-find">
                        {{!-- <label for="title">Game Name:</label> --}}
                        <input type="text" id="title" name="title" placeholder="Game Name...  (use keywords)">

                        {{!-- DROPDOWN  value={{DISTINCT}}--}}
                        <select id="consoleDrop">
                            <option value="">All Systems</option>
                            
                            {{#each allconsoles}}
                            <option>{{DISTINCT}}</option>
                            {{/each}}

                        </select>
                        <button id="submit-button" type="submit">Search</button>
                    </form>
                </div>
            </section>
        </div>
    </div>

    <script>
    
    $("#gamedb-find").submit(function(event){
        event.preventDefault();
        let gameTitle = $(this).children("#title").val().trim();
        let gameConsole = $(this).children("#consoleDrop").val();
        //console.log(gameTitle);
        //console.log(gameConsole);

        $.ajax({
            url: "/searchgame",
            method: "POST",
            data: { 
                gameTitle: gameTitle,
                gameConsole: gameConsole
            }
        }).then(function (data) {
            console.log("searched!!!!!!!");
        });

    });

    </script>

    <!-- Results Section
   ================================================== -->

    <div id="hero-slider" class="flexslider">

        <ul class="">

            <!-- slide -->
            <li>
                <div class="flex-caption">
                    <h1 class="titleone">Your Game Search <span class="gametitle">Results</span></h1>
                </div>
            </li>
        </ul>
    </div>


    <div id="user-games">
		        
		{{#each dbGames}}
           <div class="containeroverlay">
                <img style="width:60%; height:60%;" src={{image}} class="imageoverlay">
                <div class="overlay">
                    <div class="text">
                        <h2 class="">{{title}}</h2> <br>
                        <p>System: {{console}}</p><br>
                        <p>Seller: {{User.firstname}} {{User.lastname}}</p><br>
                        <p>GameStop Price Buy: {{gsPriceBuy}}</p><br>
                        <p>GameStop Price Sell: {{gsPriceSell}}</p><br>
                        <p>User Sell Price: {{userSellPrice}}</p><br>
                        <button>Email Seller</button>
                    </div>
                </div>
            </div>
		{{/each}}
    </div>

    <style>
        .containeroverlay {
            position: relative;
            width: 50%;
        }

        .imageoverlay {
            display: block;
            width: 100%;
            height: auto;
        }

        .overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            width: 60%;
            opacity: 0;
            transition: .5s ease;
            background-color: rgba(2, 2, 2, 0.831);
        }

        .containeroverlay:hover .overlay {
            opacity: 1;
        }

        .text {
            color: white;
            font-size: 20px;
            position: absolute;
            top: 50%;
            left: 50%;
            -webkit-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
    </style>



</body>